local UserInputService = game:GetService("UserInputService")
local RunService = game:GetService("RunService")
local Players = game:GetService("Players")
local StarterGui = game:GetService("StarterGui")

local headSize = 3
local effectDisabled = true

local function toggleEffect()
    effectDisabled = not effectDisabled
    StarterGui:SetCore("SendNotification", {
        Title = "Flame",
        Text = effectDisabled and "pe Disabled" or "pe Enabled",
        Duration = 2,
    })
end

UserInputService.InputBegan:Connect(function(input, gameProcessed)
    if gameProcessed then return end
    if input.KeyCode == Enum.KeyCode.F then
        toggleEffect()
    end
end)

RunService.RenderStepped:Connect(function()
    if not effectDisabled then
        for _, player in ipairs(Players:GetPlayers()) do
            if player ~= Players.LocalPlayer then
                local character = player.Character
                if character and character:FindFirstChild("HumanoidRootPart") then
                    local rootPart = character.HumanoidRootPart
                    pcall(function()
                        rootPart.Size = Vector3.new(headSize, headSize, headSize)
                        rootPart.Transparency = 1
                        rootPart.BrickColor = BrickColor.new("Really black")
                        rootPart.Material = Enum.Material.Neon
                        rootPart.CanCollide = false
                        rootPart.Shape = Enum.PartType.Ball
                    end)
                end
            end
        end
    end
end)

StarterGui:SetCore("SendNotification", {
    Title = "Flame",
    Text = "ProjectileExploit Loaded! Press F to toggle",
    Duration = 2,
})
